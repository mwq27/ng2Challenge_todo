{"version":3,"sources":["async_pipe.js"],"names":[],"mappings":"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","file":"src/change_detection/pipes/async_pipe.js","sourceRoot":"/Users/mwoodson/Projects/ng2-express-starter/node_modules/angular2/es6/prod/","sourcesContent":["import {Observable,\n  ObservableWrapper} from 'angular2/src/facade/async';\nimport {isBlank,\n  isPresent} from 'angular2/src/facade/lang';\nimport {Pipe,\n  NO_CHANGE} from './pipe';\nimport {ChangeDetectorRef} from '../change_detector_ref';\nexport class AsyncPipe extends Pipe {\n  constructor(ref) {\n    super();\n    this._ref = ref;\n    this._latestValue = null;\n    this._latestReturnedValue = null;\n    this._subscription = null;\n    this._observable = null;\n  }\n  supports(obs) {\n    return ObservableWrapper.isObservable(obs);\n  }\n  onDestroy() {\n    if (isPresent(this._subscription)) {\n      this._dispose();\n    }\n    ;\n  }\n  transform(obs) {\n    if (isBlank(this._subscription)) {\n      this._subscribe(obs);\n      return null;\n    }\n    if (obs !== this._observable) {\n      this._dispose();\n      return this.transform(obs);\n    }\n    if (this._latestValue === this._latestReturnedValue) {\n      return NO_CHANGE;\n    } else {\n      this._latestReturnedValue = this._latestValue;\n      return this._latestValue;\n    }\n  }\n  _subscribe(obs) {\n    this._observable = obs;\n    this._subscription = ObservableWrapper.subscribe(obs, (value) => this._updateLatestValue(value), (e) => {\n      throw e;\n    });\n  }\n  _dispose() {\n    ObservableWrapper.dispose(this._subscription);\n    this._latestValue = null;\n    this._latestReturnedValue = null;\n    this._subscription = null;\n    this._observable = null;\n  }\n  _updateLatestValue(value) {\n    this._latestValue = value;\n    this._ref.requestCheck();\n  }\n}\nObject.defineProperty(AsyncPipe, \"parameters\", {get: function() {\n    return [[ChangeDetectorRef]];\n  }});\nObject.defineProperty(AsyncPipe.prototype.transform, \"parameters\", {get: function() {\n    return [[Observable]];\n  }});\nObject.defineProperty(AsyncPipe.prototype._subscribe, \"parameters\", {get: function() {\n    return [[Observable]];\n  }});\nObject.defineProperty(AsyncPipe.prototype._updateLatestValue, \"parameters\", {get: function() {\n    return [[Object]];\n  }});\nexport class AsyncPipeFactory {\n  supports(obs) {\n    return ObservableWrapper.isObservable(obs);\n  }\n  create(cdRef) {\n    return new AsyncPipe(cdRef);\n  }\n}\n//# sourceMappingURL=async_pipe.js.map\n\n//# sourceMappingURL=./async_pipe.map"]}